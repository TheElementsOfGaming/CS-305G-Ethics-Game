<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ethics Game</title>
    <script src="https://unpkg.com/vue@3"></script>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <div id="app">
    <div class="w-screen h-screen bg-sky-300 flex justify-center items-center">
      <div
        v-if="currentChoice"
        class="w-[900px] p-8 space-y-6 rounded-md bg-white shadow-lg"
      >
        <h1 class="text-xl text-center mb-12">
          {{currentChoice.outcome}}
        </h1>
        <div class="flex space-x-4 justify-center">
          <div
            class="p-4 border"
            v-for="[reward, amount] in Object.entries(currentChoice.reward)"
          >
            {{ reward }}: {{amount > 0 ? '+' : ''}}{{ amount }}
          </div>
        </div>
        <div>
          <button
            class="py-2 w-full text-lg text-gray-100 bg-green-400 hover:bg-green-500 rounded-md"
            @click="goToNextScenario(currentChoice.nextScenario)"
          >
            Next
          </button>
        </div>
      </div>
      <div v-else class="w-[850px] p-8 space-y-6 rounded-md bg-white shadow-lg">
        <h1 class="text-xl text-center mb-12">
          {{currentScenario?.description}}
        </h1>
        <div class="flex space-x-4">
          <div
            class="flex-1 p-4 border border-black hover:bg-sky-200 cursor-pointer text-center inline-block align-middle"
            v-for="{choice, outcome, reward, nextScenario} in currentScenario?.choices"
            @click="makeDecision(choice)"
          >
            {{ choice }}
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="index.js"></script>
</html>
